@model EventManagementSystem.Models.Event

@{
    ViewData["Title"] = "Edit Event";
}

<div class="create-event-page">
    <div class="page-header">
        <h1><i class="fas fa-edit"></i> Edit Event</h1>
        <p>Update your event details</p>
    </div>

    <div class="form-container">
        <form asp-action="Edit" method="post" class="event-form">
            <div asp-validation-summary="ModelOnly" class="alert alert-danger alert-dismissible">
                <button type="button" class="btn-close" data-dismiss="alert"></button>
                <i class="fas fa-exclamation-circle"></i> Please fix the errors below
            </div>

            <input type="hidden" asp-for="Id" />

            <!-- Basic Information -->
            <div class="form-section">
                <h2><i class="fas fa-info-circle"></i> Basic Information</h2>
                
                <div class="form-group">
                    <label asp-for="Title">
                        <span class="required">*</span> Event Title
                    </label>
                    <input asp-for="Title" class="form-control" placeholder="Enter event title" />
                    <span asp-validation-for="Title" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Description">
                        <span class="required">*</span> Description
                    </label>
                    <textarea asp-for="Description" class="form-control" placeholder="Describe your event" rows="5"></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                    <small class="form-text">Provide a detailed description of your event</small>
                </div>

                <div class="form-group">
                    <label asp-for="Category">
                        <span class="required">*</span> Category
                    </label>
                    <select asp-for="Category" class="form-control">
                        <option value="">Select a category</option>
                        @{
                            var categories = new[] { "Conference", "Workshop", "Networking", "Social", "Sports", "Music", "Food", "Other" };
                            var categoryDisplayNames = new Dictionary<string, string>
                            {
                                { "Conference", "Conference" },
                                { "Workshop", "Workshop" },
                                { "Networking", "Networking" },
                                { "Social", "Social" },
                                { "Sports", "Sports" },
                                { "Music", "Music" },
                                { "Food", "Food & Dining" },
                                { "Other", "Other" }
                            };
                        }
                        @foreach (var category in categories)
                        {
                            <option value="@category" selected="@(Model.Category == category)">@categoryDisplayNames[category]</option>
                        }
                    </select>
                    <span asp-validation-for="Category" class="text-danger"></span>
                </div>
            </div>

            <!-- Date & Time -->
            <div class="form-section">
                <h2><i class="fas fa-clock"></i> Date & Time</h2>
                
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label asp-for="StartDate">
                            <span class="required">*</span> Start Date & Time
                        </label>
                        <input asp-for="StartDate" type="datetime-local" class="form-control" />
                        <span asp-validation-for="StartDate" class="text-danger"></span>
                    </div>

                    <div class="form-group col-md-6">
                        <label asp-for="EndDate">
                            <span class="required">*</span> End Date & Time
                        </label>
                        <input asp-for="EndDate" type="datetime-local" class="form-control" />
                        <span asp-validation-for="EndDate" class="text-danger"></span>
                    </div>
                </div>
            </div>

            <!-- Location -->
            <div class="form-section">
                <h2><i class="fas fa-map-marker-alt"></i> Location</h2>
                
                <div class="form-group">
                    <label asp-for="Location">
                        <span class="required">*</span> Event Location
                    </label>
                    <input asp-for="Location" class="form-control" placeholder="e.g., 123 Main St, City, State" />
                    <span asp-validation-for="Location" class="text-danger"></span>
                </div>
            </div>

            <!-- Attendance -->
            <div class="form-section">
                <h2><i class="fas fa-users"></i> Attendance</h2>
                
                <div class="form-group">
                    <label asp-for="MaxAttendees">
                        <span class="required">*</span> Maximum Attendees
                    </label>
                    <input asp-for="MaxAttendees" type="number" class="form-control" placeholder="e.g., 100" min="1" />
                    <span asp-validation-for="MaxAttendees" class="text-danger"></span>
                    <small class="form-text">Leave unlimited or set a specific number</small>
                </div>
            </div>

            <!-- Media -->
            <div class="form-section">
                <h2><i class="fas fa-image"></i> Event Image</h2>
                
                <div class="form-group">
                    <label asp-for="ImageUrl">Event Image URL</label>
                    <input asp-for="ImageUrl" class="form-control" placeholder="https://example.com/image.jpg" />
                    <span asp-validation-for="ImageUrl" class="text-danger"></span>
                    <small class="form-text">Provide a URL to an event image (optional)</small>
                </div>
            </div>

            <!-- Form Actions -->
            <div class="form-actions">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="fas fa-check-circle"></i> Save Changes
                </button>
                <a href="@Url.Action("Details", new { id = Model.Id })" class="btn btn-outline btn-lg">
                    <i class="fas fa-times-circle"></i> Cancel
                </a>
            </div>
        </form>
    </div>
</div>
